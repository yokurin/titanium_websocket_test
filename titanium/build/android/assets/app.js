function addMessage(t){var e=Ti.UI.createLabel({text:t,color:"#FFF",font:{fontSize:12}});commentView.add(e)}Titanium.UI.setBackgroundColor("#000");var tabGroup=Titanium.UI.createTabGroup(),win1=Titanium.UI.createWindow({title:"Tab 1",backgroundColor:"#fff"}),tab1=Titanium.UI.createTab({icon:"KS_nav_views.png",title:"Tab 1",window:win1}),view1=Ti.UI.createView({width:Ti.UI.FILL,height:Ti.UI.FILL,backgroundColor:"#00FF00"});win1.add(view1);var textField=Ti.UI.createTextField({top:"0dp",left:"0dp",width:"250dp",height:"50dp",borderWidth:"1",color:"#000",hintText:"テキスト",backgroundColor:"#FFF"});view1.add(textField),uri="ws://192.168.1.111:9000";var WS=require("net.iamyellow.tiws").createWS();WS.addEventListener("open",function(){Ti.API.debug("websocket opened")}),WS.addEventListener("close",function(t){Ti.API.info(t),addMessage(t.data)}),WS.addEventListener("error",function(t){Ti.API.error(t)}),WS.addEventListener("message",function(t){Ti.API.log(t),addMessage(t.data)}),WS.open(uri);var submitButton=Ti.UI.createButton({top:"0dp",title:"送信",right:"10dp",width:"50dp",height:"50dp"});submitButton.addEventListener("click",function(){WS.send(textField.getValue()),textField.setValue("")}),view1.add(submitButton);var closeButton=Ti.UI.createButton({top:"60dp",title:"閉じる",right:"10dp",width:"50dp",height:"50dp",backgroundColor:"#0DFF00"});closeButton.addEventListener("click",function(){WS.close()}),win1.add(closeButton);var commentView=Ti.UI.createView({top:70,width:Ti.UI.FILL,height:Ti.UI.FILL,backgroundColor:"#00D0FF",layout:"vertical"});view1.add(commentView);var win2=Titanium.UI.createWindow({title:"Tab 2",backgroundColor:"#fff"}),tab2=Titanium.UI.createTab({icon:"KS_nav_ui.png",title:"Tab 2",window:win2}),label2=Titanium.UI.createLabel({color:"#999",text:"I am Window 2",font:{fontSize:20,fontFamily:"Helvetica Neue"},textAlign:"center",width:"auto"});win2.add(label2),tabGroup.addTab(tab1),tabGroup.addTab(tab2),tabGroup.open();